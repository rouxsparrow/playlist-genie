{% extends 'base.html' %}
{% block content %}
<div class="playlist-container" style="text-align: center; margin-top: 20px;">
    <h2>Playlist Created Successfully!</h2>
    <p>Your playlist is ready. Click below to open it in Spotify, or use the button to copy its URL to your clipboard.</p>
    <a href="{{ playlist_url }}" target="_blank" style="display: inline-block; background-color: #fff; color: #616467; padding: 16px 14px 18px; border-radius: 20px; text-decoration: none; font-weight: 700;letter-spacing: 2px;line-height:1;margin-bottom:10px;white-space:normal;box-shadow: inset 0 0 0 2px #616467;">Open Playlist</a>
    <!-- Copy-to-Clipboard Button -->
    <button onclick="copyToClipboard('{{ playlist_url }}')" >Copy link</button>
</div>

<script>
    function copyToClipboard(text) {
        // Create a temporary input
        var tempInput = document.createElement("input");
        tempInput.value = text;
        document.body.appendChild(tempInput);
        // Select the text
        tempInput.select();
        tempInput.setSelectionRange(0, 99999); // For mobile devices
        // Copy the text inside the input
        document.execCommand("copy");
        // Remove the temporary input
        document.body.removeChild(tempInput);
        // Alert or indicate the copy action
        alert("Playlist URL copied to clipboard!");
    }
</script>
{% endblock %}